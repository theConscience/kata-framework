// =====================================================
// ------------- Megatype text link mixin --------------
// =====================================================
// @author Thomas Bredin-Grey <tom@studiothick.com>
// Megatype: https://github.com/StudioThick/megatype
// =====================================================

// better text decoration
text-link($color = $link-color, $hover = $color, $offset = $link-offset, $opacity = $link-underline-opacity, $hover-opacity = $link-underline-hover-opacity)
  warn('$color: ' + $color)
  warn('$hover: ' + $hover)
  warn('$offset: ' + $offset)
  warn('$opacity: ' + $opacity)
  warn('$hover-opacity: ' + $hover-opacity)
  color: $color
  text-decoration: none
  background-image: convert('linear-gradient(to bottom, rgba(0, 0, 0, 0) 50%, ' + rgba($color, $opacity) + ' 50%)')
  background-repeat: repeat-x
  background-size: 2px 2px
  background-position: 0 1.05em
  $calcedVal = convert('0 calc(43% + 0.44em + ' + $offset + ')')
  background-position: $calcedVal
  cursor: pointer

  if $hover != false || $hover != null
    &:hover
      background-image: convert('linear-gradient(to bottom, rgba(0, 0, 0, 0) 50%, ' + rgba($hover, $hover-opacity) + ' 50%)')
      color: $hover

  .no-cssgradients &
    text-decoration: underline
    // for browsers with no cssgradient support

// remove text link style
reset-link($hard-reset = false)
  if $hard-reset == false
    &, &:hover
      background-image: none
    .no-cssgradients &
      text-decoration: none
  else
    &, &:hover
      background-image: none !important
    .no-cssgradients &
      text-decoration: none !important
